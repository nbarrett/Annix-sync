import { MigrationInterface, QueryRunner } from 'typeorm';

export class CreatePipeSizingTables1766001900000 implements MigrationInterface {
  public async up(queryRunner: QueryRunner): Promise<void> {
    // Create pipe_steel_grades table
    await queryRunner.query(`
      CREATE TABLE IF NOT EXISTS pipe_steel_grades (
        id SERIAL PRIMARY KEY,
        code VARCHAR(100) NOT NULL UNIQUE,
        name VARCHAR(255) NOT NULL,
        category VARCHAR(100) NOT NULL,
        equivalent_grade VARCHAR(100),
        created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP
      )
    `);

    // Create pipe_allowable_stresses table
    await queryRunner.query(`
      CREATE TABLE IF NOT EXISTS pipe_allowable_stresses (
        id SERIAL PRIMARY KEY,
        grade_id INTEGER NOT NULL REFERENCES pipe_steel_grades(id) ON DELETE CASCADE,
        temperature_f INTEGER NOT NULL,
        allowable_stress_ksi DECIMAL(10, 2) NOT NULL,
        UNIQUE(grade_id, temperature_f)
      )
    `);

    // Create pipe_nps_od table
    await queryRunner.query(`
      CREATE TABLE IF NOT EXISTS pipe_nps_od (
        id SERIAL PRIMARY KEY,
        nps VARCHAR(20) NOT NULL UNIQUE,
        od_inch DECIMAL(10, 4) NOT NULL,
        od_mm DECIMAL(10, 2) NOT NULL
      )
    `);

    // Create pipe_schedule_walls table
    await queryRunner.query(`
      CREATE TABLE IF NOT EXISTS pipe_schedule_walls (
        id SERIAL PRIMARY KEY,
        nps VARCHAR(20) NOT NULL,
        schedule VARCHAR(20) NOT NULL,
        wall_thickness_inch DECIMAL(10, 4) NOT NULL,
        wall_thickness_mm DECIMAL(10, 2) NOT NULL,
        UNIQUE(nps, schedule)
      )
    `);

    // Seed steel grades with their categories
    const steelGrades = [
      // SABS grades (will map to ASTM equivalents for stress data)
      { code: 'SABS_1431_300WA', name: 'SABS 1431 300WA', category: 'SABS', equivalent: 'ASTM_A53_Grade_B' },
      { code: 'SABS_1431_350WA', name: 'SABS 1431 350WA', category: 'SABS', equivalent: 'ASTM_A106_Grade_B' },
      { code: 'SABS_62_620S', name: 'SABS 62-620S', category: 'SABS', equivalent: 'ASTM_A333_Grade_6' },

      // ASTM grades
      { code: 'ASTM_A53_Grade_A', name: 'ASTM A53 Grade A', category: 'ASTM', equivalent: null },
      { code: 'ASTM_A53_Grade_B', name: 'ASTM A53 Grade B', category: 'ASTM', equivalent: null },
      { code: 'ASTM_A106_Grade_A', name: 'ASTM A106 Grade A', category: 'ASTM', equivalent: null },
      { code: 'ASTM_A106_Grade_B', name: 'ASTM A106 Grade B', category: 'ASTM', equivalent: null },
      { code: 'ASTM_A106_Grade_C', name: 'ASTM A106 Grade C', category: 'ASTM', equivalent: null },
      { code: 'ASTM_A333_Grade_1', name: 'ASTM A333 Grade 1', category: 'ASTM', equivalent: null },
      { code: 'ASTM_A333_Grade_6', name: 'ASTM A333 Grade 6', category: 'ASTM', equivalent: null },
      { code: 'ASTM_A335_P5', name: 'ASTM A335 P5 (5Cr-0.5Mo)', category: 'ASTM', equivalent: null },
      { code: 'ASTM_A335_P9', name: 'ASTM A335 P9 (9Cr-1Mo)', category: 'ASTM', equivalent: null },
      { code: 'ASTM_A335_P11', name: 'ASTM A335 P11 (1.25Cr-0.5Mo)', category: 'ASTM', equivalent: null },
      { code: 'ASTM_A335_P22', name: 'ASTM A335 P22 (2.25Cr-1Mo)', category: 'ASTM', equivalent: null },
      { code: 'ASTM_A335_P91', name: 'ASTM A335 P91 (9Cr-1Mo-V)', category: 'ASTM', equivalent: null },
      { code: 'ASTM_A312_TP304', name: 'ASTM A312 TP304 (18Cr-8Ni)', category: 'ASTM_SS', equivalent: null },
      { code: 'ASTM_A312_TP304L', name: 'ASTM A312 TP304L (18Cr-8Ni Low C)', category: 'ASTM_SS', equivalent: null },
      { code: 'ASTM_A312_TP316', name: 'ASTM A312 TP316 (16Cr-12Ni-2Mo)', category: 'ASTM_SS', equivalent: null },
      { code: 'ASTM_A312_TP316L', name: 'ASTM A312 TP316L (16Cr-12Ni-2Mo Low C)', category: 'ASTM_SS', equivalent: null },
      { code: 'ASTM_A312_TP321', name: 'ASTM A312 TP321 (18Cr-10Ni-Ti)', category: 'ASTM_SS', equivalent: null },

      // API grades
      { code: 'API_5L_Grade_B', name: 'API 5L Grade B (PSL1)', category: 'API', equivalent: null },
      { code: 'API_5L_X42', name: 'API 5L X42 (PSL1)', category: 'API', equivalent: null },
      { code: 'API_5L_X52', name: 'API 5L X52 (PSL2)', category: 'API', equivalent: null },
      { code: 'API_5L_X60', name: 'API 5L X60 (PSL2)', category: 'API', equivalent: null },
      { code: 'API_5L_X65', name: 'API 5L X65 (PSL2)', category: 'API', equivalent: null },
      { code: 'API_5L_X70', name: 'API 5L X70 (PSL2)', category: 'API', equivalent: null },
    ];

    // Insert steel grades and get their IDs
    const gradeIdMap: Record<string, number> = {};
    for (const grade of steelGrades) {
      const result = await queryRunner.query(`
        INSERT INTO pipe_steel_grades (code, name, category, equivalent_grade)
        VALUES ($1, $2, $3, $4)
        RETURNING id
      `, [grade.code, grade.name, grade.category, grade.equivalent]);
      gradeIdMap[grade.code] = result[0].id;
    }

    // Allowable stress data per ASME B31.3 (values in ksi)
    // Temperature values in Â°F: -20, 100, 200, 300, 400, 500, 600, 650, 700, 750, 800, 850, 900, 950, 1000
    const allowableStresses: Record<string, Array<[number, number]>> = {
      'ASTM_A53_Grade_A': [
        [-20, 12.0], [100, 12.0], [200, 12.0], [300, 12.0], [400, 12.0],
        [500, 12.0], [600, 12.0], [650, 11.2], [700, 10.2], [750, 8.4],
        [800, 6.0], [850, 3.8], [900, 2.5],
      ],
      'ASTM_A53_Grade_B': [
        [-20, 15.0], [100, 15.0], [200, 15.0], [300, 15.0], [400, 15.0],
        [500, 15.0], [600, 15.0], [650, 14.4], [700, 13.0], [750, 10.8],
        [800, 7.8], [850, 5.0], [900, 3.2],
      ],
      'ASTM_A106_Grade_A': [
        [-20, 12.0], [100, 12.0], [200, 12.0], [300, 12.0], [400, 12.0],
        [500, 12.0], [600, 12.0], [650, 11.2], [700, 10.2], [750, 8.4],
        [800, 6.0], [850, 3.8], [900, 2.5],
      ],
      'ASTM_A106_Grade_B': [
        [-20, 15.0], [100, 15.0], [200, 15.0], [300, 15.0], [400, 15.0],
        [500, 15.0], [600, 15.0], [650, 14.4], [700, 13.0], [750, 10.8],
        [800, 7.8], [850, 5.0], [900, 3.2],
      ],
      'ASTM_A106_Grade_C': [
        [-20, 17.1], [100, 17.1], [200, 17.1], [300, 17.1], [400, 17.1],
        [500, 17.1], [600, 17.1], [650, 16.4], [700, 14.8], [750, 12.3],
        [800, 8.9], [850, 5.7], [900, 3.7],
      ],
      'ASTM_A333_Grade_1': [
        [-50, 11.7], [-20, 11.7], [100, 11.7], [200, 11.7], [300, 11.7],
        [400, 11.7], [500, 11.7], [600, 11.7], [650, 10.9], [700, 9.9],
      ],
      'ASTM_A333_Grade_6': [
        [-50, 15.0], [-20, 15.0], [100, 15.0], [200, 15.0], [300, 15.0],
        [400, 15.0], [500, 15.0], [600, 15.0], [650, 14.4], [700, 13.0],
      ],
      'ASTM_A335_P5': [
        [-20, 15.0], [100, 15.0], [200, 15.0], [300, 15.0], [400, 15.0],
        [500, 15.0], [600, 15.0], [650, 14.4], [700, 13.8], [750, 12.8],
        [800, 11.0], [850, 8.5], [900, 6.1], [950, 4.0], [1000, 2.6],
      ],
      'ASTM_A335_P9': [
        [-20, 15.0], [100, 15.0], [200, 15.0], [300, 15.0], [400, 15.0],
        [500, 15.0], [600, 15.0], [650, 14.4], [700, 13.8], [750, 12.8],
        [800, 11.0], [850, 8.5], [900, 6.1], [950, 4.0], [1000, 2.6],
      ],
      'ASTM_A335_P11': [
        [-20, 15.0], [100, 15.0], [200, 15.0], [300, 15.0], [400, 15.0],
        [500, 15.0], [600, 15.0], [650, 14.4], [700, 13.8], [750, 13.0],
        [800, 11.5], [850, 9.2], [900, 6.8], [950, 4.5], [1000, 3.0],
      ],
      'ASTM_A335_P22': [
        [-20, 15.0], [100, 15.0], [200, 15.0], [300, 15.0], [400, 15.0],
        [500, 15.0], [600, 15.0], [650, 14.4], [700, 13.8], [750, 13.0],
        [800, 12.0], [850, 10.0], [900, 7.8], [950, 5.5], [1000, 3.8],
      ],
      'ASTM_A335_P91': [
        [-20, 20.0], [100, 20.0], [200, 20.0], [300, 20.0], [400, 20.0],
        [500, 20.0], [600, 20.0], [650, 19.2], [700, 18.5], [750, 17.5],
        [800, 16.0], [850, 14.0], [900, 11.5], [950, 8.5], [1000, 6.0],
        [1050, 4.0], [1100, 2.5],
      ],
      'ASTM_A312_TP304': [
        [-20, 16.7], [100, 16.7], [200, 16.7], [300, 16.7], [400, 15.0],
        [500, 13.8], [600, 12.9], [650, 12.6], [700, 12.3], [750, 12.1],
        [800, 11.9], [850, 11.8], [900, 11.6], [950, 11.2], [1000, 10.4],
        [1050, 8.9], [1100, 7.0], [1150, 5.2], [1200, 3.8], [1250, 2.8],
        [1300, 2.1], [1350, 1.5], [1400, 1.1], [1450, 0.8], [1500, 0.6],
      ],
      'ASTM_A312_TP304L': [
        [-20, 14.2], [100, 14.2], [200, 13.3], [300, 12.0], [400, 10.9],
        [500, 10.1], [600, 9.5], [650, 9.4], [700, 9.3], [750, 9.2],
        [800, 9.1],
      ],
      'ASTM_A312_TP316': [
        [-20, 16.7], [100, 16.7], [200, 16.7], [300, 16.7], [400, 15.5],
        [500, 14.3], [600, 13.3], [650, 13.0], [700, 12.8], [750, 12.5],
        [800, 12.3], [850, 12.1], [900, 11.9], [950, 11.5], [1000, 10.8],
        [1050, 9.3], [1100, 7.4], [1150, 5.6], [1200, 4.2], [1250, 3.1],
        [1300, 2.3], [1350, 1.7], [1400, 1.3], [1450, 0.95], [1500, 0.7],
      ],
      'ASTM_A312_TP316L': [
        [-20, 14.2], [100, 14.2], [200, 13.8], [300, 12.6], [400, 11.5],
        [500, 10.7], [600, 10.1], [650, 9.9], [700, 9.8], [750, 9.7],
        [800, 9.6],
      ],
      'ASTM_A312_TP321': [
        [-20, 16.7], [100, 16.7], [200, 16.7], [300, 15.2], [400, 13.8],
        [500, 12.7], [600, 11.9], [650, 11.6], [700, 11.4], [750, 11.2],
        [800, 11.0], [850, 10.9], [900, 10.7], [950, 10.4], [1000, 9.6],
        [1050, 8.2], [1100, 6.5], [1150, 4.8], [1200, 3.5], [1250, 2.6],
        [1300, 1.9], [1350, 1.4], [1400, 1.0], [1450, 0.75], [1500, 0.55],
      ],
      'API_5L_Grade_B': [
        [-20, 17.5], [100, 17.5], [200, 17.5], [300, 17.5], [400, 17.5],
        [500, 17.5], [600, 17.5], [650, 16.8],
      ],
      'API_5L_X42': [
        [-20, 20.0], [100, 20.0], [200, 20.0], [300, 20.0], [400, 20.0],
        [500, 20.0], [600, 20.0], [650, 19.2],
      ],
      'API_5L_X52': [
        [-20, 23.3], [100, 23.3], [200, 23.3], [300, 23.3], [400, 23.3],
        [500, 23.3], [600, 23.3], [650, 22.4],
      ],
      'API_5L_X60': [
        [-20, 26.0], [100, 26.0], [200, 26.0], [300, 26.0], [400, 26.0],
        [500, 26.0], [600, 26.0], [650, 25.0],
      ],
      'API_5L_X65': [
        [-20, 28.3], [100, 28.3], [200, 28.3], [300, 28.3], [400, 28.3],
        [500, 28.3], [600, 28.3], [650, 27.2],
      ],
      'API_5L_X70': [
        [-20, 30.3], [100, 30.3], [200, 30.3], [300, 30.3], [400, 30.3],
        [500, 30.3], [600, 30.3], [650, 29.1],
      ],
    };

    // Insert allowable stress data
    for (const [gradeCode, stressData] of Object.entries(allowableStresses)) {
      const gradeId = gradeIdMap[gradeCode];
      if (!gradeId) continue;

      for (const [tempF, stressKsi] of stressData) {
        await queryRunner.query(`
          INSERT INTO pipe_allowable_stresses (grade_id, temperature_f, allowable_stress_ksi)
          VALUES ($1, $2, $3)
        `, [gradeId, tempF, stressKsi]);
      }
    }

    // NPS to OD mappings (per ASME B36.10)
    const npsOdData: Array<[string, number, number]> = [
      ['1/8', 0.405, 10.3],
      ['1/4', 0.540, 13.7],
      ['3/8', 0.675, 17.1],
      ['1/2', 0.840, 21.3],
      ['3/4', 1.050, 26.7],
      ['1', 1.315, 33.4],
      ['1-1/4', 1.660, 42.2],
      ['1-1/2', 1.900, 48.3],
      ['2', 2.375, 60.3],
      ['2-1/2', 2.875, 73.0],
      ['3', 3.500, 88.9],
      ['3-1/2', 4.000, 101.6],
      ['4', 4.500, 114.3],
      ['5', 5.563, 141.3],
      ['6', 6.625, 168.3],
      ['8', 8.625, 219.1],
      ['10', 10.750, 273.0],
      ['12', 12.750, 323.8],
      ['14', 14.000, 355.6],
      ['16', 16.000, 406.4],
      ['18', 18.000, 457.2],
      ['20', 20.000, 508.0],
      ['22', 22.000, 558.8],
      ['24', 24.000, 609.6],
      ['26', 26.000, 660.4],
      ['28', 28.000, 711.2],
      ['30', 30.000, 762.0],
      ['32', 32.000, 812.8],
      ['34', 34.000, 863.6],
      ['36', 36.000, 914.4],
      ['42', 42.000, 1066.8],
      ['48', 48.000, 1219.2],
    ];

    for (const [nps, odInch, odMm] of npsOdData) {
      await queryRunner.query(`
        INSERT INTO pipe_nps_od (nps, od_inch, od_mm)
        VALUES ($1, $2, $3)
      `, [nps, odInch, odMm]);
    }

    // Pipe schedule wall thicknesses (per ASME B36.10/B36.19)
    // Format: [nps, schedule, wallInch, wallMm]
    const scheduleWallData: Array<[string, string, number, number]> = [
      // 1/8"
      ['1/8', '5S', 0.035, 0.89],
      ['1/8', '10S', 0.049, 1.24],
      ['1/8', '40', 0.068, 1.73],
      ['1/8', 'STD', 0.068, 1.73],
      ['1/8', '80', 0.095, 2.41],
      ['1/8', 'XS', 0.095, 2.41],

      // 1/4"
      ['1/4', '5S', 0.049, 1.24],
      ['1/4', '10S', 0.065, 1.65],
      ['1/4', '40', 0.088, 2.24],
      ['1/4', 'STD', 0.088, 2.24],
      ['1/4', '80', 0.119, 3.02],
      ['1/4', 'XS', 0.119, 3.02],

      // 3/8"
      ['3/8', '5S', 0.049, 1.24],
      ['3/8', '10S', 0.065, 1.65],
      ['3/8', '40', 0.091, 2.31],
      ['3/8', 'STD', 0.091, 2.31],
      ['3/8', '80', 0.126, 3.20],
      ['3/8', 'XS', 0.126, 3.20],

      // 1/2"
      ['1/2', '5S', 0.065, 1.65],
      ['1/2', '10S', 0.083, 2.11],
      ['1/2', '40', 0.109, 2.77],
      ['1/2', 'STD', 0.109, 2.77],
      ['1/2', '80', 0.147, 3.73],
      ['1/2', 'XS', 0.147, 3.73],
      ['1/2', '160', 0.187, 4.75],
      ['1/2', 'XXS', 0.294, 7.47],

      // 3/4"
      ['3/4', '5S', 0.065, 1.65],
      ['3/4', '10S', 0.083, 2.11],
      ['3/4', '40', 0.113, 2.87],
      ['3/4', 'STD', 0.113, 2.87],
      ['3/4', '80', 0.154, 3.91],
      ['3/4', 'XS', 0.154, 3.91],
      ['3/4', '160', 0.219, 5.56],
      ['3/4', 'XXS', 0.308, 7.82],

      // 1"
      ['1', '5S', 0.065, 1.65],
      ['1', '10S', 0.109, 2.77],
      ['1', '40', 0.133, 3.38],
      ['1', 'STD', 0.133, 3.38],
      ['1', '80', 0.179, 4.55],
      ['1', 'XS', 0.179, 4.55],
      ['1', '160', 0.250, 6.35],
      ['1', 'XXS', 0.358, 9.09],

      // 1-1/4"
      ['1-1/4', '5S', 0.065, 1.65],
      ['1-1/4', '10S', 0.109, 2.77],
      ['1-1/4', '40', 0.140, 3.56],
      ['1-1/4', 'STD', 0.140, 3.56],
      ['1-1/4', '80', 0.191, 4.85],
      ['1-1/4', 'XS', 0.191, 4.85],
      ['1-1/4', '160', 0.250, 6.35],
      ['1-1/4', 'XXS', 0.382, 9.70],

      // 1-1/2"
      ['1-1/2', '5S', 0.065, 1.65],
      ['1-1/2', '10S', 0.109, 2.77],
      ['1-1/2', '40', 0.145, 3.68],
      ['1-1/2', 'STD', 0.145, 3.68],
      ['1-1/2', '80', 0.200, 5.08],
      ['1-1/2', 'XS', 0.200, 5.08],
      ['1-1/2', '160', 0.281, 7.14],
      ['1-1/2', 'XXS', 0.400, 10.16],

      // 2"
      ['2', '5S', 0.065, 1.65],
      ['2', '10S', 0.109, 2.77],
      ['2', '40', 0.154, 3.91],
      ['2', 'STD', 0.154, 3.91],
      ['2', '80', 0.218, 5.54],
      ['2', 'XS', 0.218, 5.54],
      ['2', '160', 0.344, 8.74],
      ['2', 'XXS', 0.436, 11.07],

      // 2-1/2"
      ['2-1/2', '5S', 0.083, 2.11],
      ['2-1/2', '10S', 0.120, 3.05],
      ['2-1/2', '40', 0.203, 5.16],
      ['2-1/2', 'STD', 0.203, 5.16],
      ['2-1/2', '80', 0.276, 7.01],
      ['2-1/2', 'XS', 0.276, 7.01],
      ['2-1/2', '160', 0.375, 9.53],
      ['2-1/2', 'XXS', 0.552, 14.02],

      // 3"
      ['3', '5S', 0.083, 2.11],
      ['3', '10S', 0.120, 3.05],
      ['3', '40', 0.216, 5.49],
      ['3', 'STD', 0.216, 5.49],
      ['3', '80', 0.300, 7.62],
      ['3', 'XS', 0.300, 7.62],
      ['3', '160', 0.438, 11.13],
      ['3', 'XXS', 0.600, 15.24],

      // 3-1/2"
      ['3-1/2', '5S', 0.083, 2.11],
      ['3-1/2', '10S', 0.120, 3.05],
      ['3-1/2', '40', 0.226, 5.74],
      ['3-1/2', 'STD', 0.226, 5.74],
      ['3-1/2', '80', 0.318, 8.08],
      ['3-1/2', 'XS', 0.318, 8.08],

      // 4"
      ['4', '5S', 0.083, 2.11],
      ['4', '10S', 0.120, 3.05],
      ['4', '40', 0.237, 6.02],
      ['4', 'STD', 0.237, 6.02],
      ['4', '80', 0.337, 8.56],
      ['4', 'XS', 0.337, 8.56],
      ['4', '120', 0.438, 11.13],
      ['4', '160', 0.531, 13.49],
      ['4', 'XXS', 0.674, 17.12],

      // 5"
      ['5', '5S', 0.109, 2.77],
      ['5', '10S', 0.134, 3.40],
      ['5', '40', 0.258, 6.55],
      ['5', 'STD', 0.258, 6.55],
      ['5', '80', 0.375, 9.53],
      ['5', 'XS', 0.375, 9.53],
      ['5', '120', 0.500, 12.70],
      ['5', '160', 0.625, 15.88],
      ['5', 'XXS', 0.750, 19.05],

      // 6"
      ['6', '5S', 0.109, 2.77],
      ['6', '10S', 0.134, 3.40],
      ['6', '40', 0.280, 7.11],
      ['6', 'STD', 0.280, 7.11],
      ['6', '80', 0.432, 10.97],
      ['6', 'XS', 0.432, 10.97],
      ['6', '120', 0.562, 14.27],
      ['6', '160', 0.719, 18.26],
      ['6', 'XXS', 0.864, 21.95],

      // 8"
      ['8', '5S', 0.109, 2.77],
      ['8', '10S', 0.148, 3.76],
      ['8', '20', 0.250, 6.35],
      ['8', '30', 0.277, 7.04],
      ['8', '40', 0.322, 8.18],
      ['8', 'STD', 0.322, 8.18],
      ['8', '60', 0.406, 10.31],
      ['8', '80', 0.500, 12.70],
      ['8', 'XS', 0.500, 12.70],
      ['8', '100', 0.594, 15.09],
      ['8', '120', 0.719, 18.26],
      ['8', '140', 0.812, 20.62],
      ['8', '160', 0.906, 23.01],
      ['8', 'XXS', 0.875, 22.23],

      // 10"
      ['10', '5S', 0.134, 3.40],
      ['10', '10S', 0.165, 4.19],
      ['10', '20', 0.250, 6.35],
      ['10', '30', 0.307, 7.80],
      ['10', '40', 0.365, 9.27],
      ['10', 'STD', 0.365, 9.27],
      ['10', '60', 0.500, 12.70],
      ['10', '80', 0.594, 15.09],
      ['10', 'XS', 0.500, 12.70],
      ['10', '100', 0.719, 18.26],
      ['10', '120', 0.844, 21.44],
      ['10', '140', 1.000, 25.40],
      ['10', '160', 1.125, 28.58],

      // 12"
      ['12', '5S', 0.156, 3.96],
      ['12', '10S', 0.180, 4.57],
      ['12', '20', 0.250, 6.35],
      ['12', '30', 0.330, 8.38],
      ['12', '40', 0.406, 10.31],
      ['12', 'STD', 0.375, 9.53],
      ['12', '60', 0.562, 14.27],
      ['12', '80', 0.688, 17.48],
      ['12', 'XS', 0.500, 12.70],
      ['12', '100', 0.844, 21.44],
      ['12', '120', 1.000, 25.40],
      ['12', '140', 1.125, 28.58],
      ['12', '160', 1.312, 33.32],

      // 14"
      ['14', '5S', 0.156, 3.96],
      ['14', '10S', 0.188, 4.78],
      ['14', '10', 0.250, 6.35],
      ['14', '20', 0.312, 7.92],
      ['14', '30', 0.375, 9.53],
      ['14', 'STD', 0.375, 9.53],
      ['14', '40', 0.438, 11.13],
      ['14', '60', 0.594, 15.09],
      ['14', 'XS', 0.500, 12.70],
      ['14', '80', 0.750, 19.05],
      ['14', '100', 0.938, 23.83],
      ['14', '120', 1.094, 27.79],
      ['14', '140', 1.250, 31.75],
      ['14', '160', 1.406, 35.71],

      // 16"
      ['16', '5S', 0.165, 4.19],
      ['16', '10S', 0.188, 4.78],
      ['16', '10', 0.250, 6.35],
      ['16', '20', 0.312, 7.92],
      ['16', '30', 0.375, 9.53],
      ['16', 'STD', 0.375, 9.53],
      ['16', '40', 0.500, 12.70],
      ['16', '60', 0.656, 16.66],
      ['16', 'XS', 0.500, 12.70],
      ['16', '80', 0.844, 21.44],
      ['16', '100', 1.031, 26.19],
      ['16', '120', 1.219, 30.96],
      ['16', '140', 1.438, 36.53],
      ['16', '160', 1.594, 40.49],

      // 18"
      ['18', '5S', 0.165, 4.19],
      ['18', '10S', 0.188, 4.78],
      ['18', '10', 0.250, 6.35],
      ['18', '20', 0.312, 7.92],
      ['18', 'STD', 0.375, 9.53],
      ['18', '30', 0.438, 11.13],
      ['18', '40', 0.562, 14.27],
      ['18', 'XS', 0.500, 12.70],
      ['18', '60', 0.750, 19.05],
      ['18', '80', 0.938, 23.83],
      ['18', '100', 1.156, 29.36],
      ['18', '120', 1.375, 34.93],
      ['18', '140', 1.562, 39.67],
      ['18', '160', 1.781, 45.24],

      // 20"
      ['20', '5S', 0.188, 4.78],
      ['20', '10S', 0.218, 5.54],
      ['20', '10', 0.250, 6.35],
      ['20', '20', 0.375, 9.53],
      ['20', 'STD', 0.375, 9.53],
      ['20', '30', 0.500, 12.70],
      ['20', 'XS', 0.500, 12.70],
      ['20', '40', 0.594, 15.09],
      ['20', '60', 0.812, 20.62],
      ['20', '80', 1.031, 26.19],
      ['20', '100', 1.281, 32.54],
      ['20', '120', 1.500, 38.10],
      ['20', '140', 1.750, 44.45],
      ['20', '160', 1.969, 50.01],

      // 22"
      ['22', '5S', 0.188, 4.78],
      ['22', '10S', 0.218, 5.54],
      ['22', '10', 0.250, 6.35],
      ['22', '20', 0.375, 9.53],
      ['22', 'STD', 0.375, 9.53],
      ['22', '30', 0.500, 12.70],
      ['22', 'XS', 0.500, 12.70],
      ['22', '60', 0.875, 22.23],
      ['22', '80', 1.125, 28.58],
      ['22', '100', 1.375, 34.93],
      ['22', '120', 1.625, 41.28],
      ['22', '140', 1.875, 47.63],
      ['22', '160', 2.125, 53.98],

      // 24"
      ['24', '5S', 0.218, 5.54],
      ['24', '10S', 0.250, 6.35],
      ['24', '10', 0.250, 6.35],
      ['24', '20', 0.375, 9.53],
      ['24', 'STD', 0.375, 9.53],
      ['24', '30', 0.562, 14.27],
      ['24', 'XS', 0.500, 12.70],
      ['24', '40', 0.688, 17.48],
      ['24', '60', 0.969, 24.61],
      ['24', '80', 1.219, 30.96],
      ['24', '100', 1.531, 38.89],
      ['24', '120', 1.812, 46.02],
      ['24', '140', 2.062, 52.37],
      ['24', '160', 2.344, 59.54],

      // 26"
      ['26', '10', 0.312, 7.92],
      ['26', 'STD', 0.375, 9.53],
      ['26', '20', 0.500, 12.70],
      ['26', 'XS', 0.500, 12.70],

      // 28"
      ['28', '10', 0.312, 7.92],
      ['28', 'STD', 0.375, 9.53],
      ['28', '20', 0.500, 12.70],
      ['28', 'XS', 0.500, 12.70],
      ['28', '30', 0.625, 15.88],

      // 30"
      ['30', '5S', 0.250, 6.35],
      ['30', '10S', 0.312, 7.92],
      ['30', '10', 0.312, 7.92],
      ['30', 'STD', 0.375, 9.53],
      ['30', '20', 0.500, 12.70],
      ['30', 'XS', 0.500, 12.70],
      ['30', '30', 0.625, 15.88],

      // 32"
      ['32', '10', 0.312, 7.92],
      ['32', 'STD', 0.375, 9.53],
      ['32', '20', 0.500, 12.70],
      ['32', 'XS', 0.500, 12.70],
      ['32', '30', 0.625, 15.88],
      ['32', '40', 0.688, 17.48],

      // 34"
      ['34', '10', 0.312, 7.92],
      ['34', 'STD', 0.375, 9.53],
      ['34', '20', 0.500, 12.70],
      ['34', 'XS', 0.500, 12.70],
      ['34', '30', 0.625, 15.88],
      ['34', '40', 0.688, 17.48],

      // 36"
      ['36', '10', 0.312, 7.92],
      ['36', 'STD', 0.375, 9.53],
      ['36', '20', 0.500, 12.70],
      ['36', 'XS', 0.500, 12.70],
      ['36', '30', 0.625, 15.88],
      ['36', '40', 0.750, 19.05],

      // 42"
      ['42', 'STD', 0.375, 9.53],
      ['42', '20', 0.500, 12.70],
      ['42', 'XS', 0.500, 12.70],
      ['42', '30', 0.625, 15.88],
      ['42', '40', 0.750, 19.05],

      // 48"
      ['48', 'STD', 0.375, 9.53],
      ['48', '20', 0.500, 12.70],
      ['48', 'XS', 0.500, 12.70],
      ['48', '30', 0.625, 15.88],
      ['48', '40', 0.750, 19.05],
    ];

    for (const [nps, schedule, wallInch, wallMm] of scheduleWallData) {
      await queryRunner.query(`
        INSERT INTO pipe_schedule_walls (nps, schedule, wall_thickness_inch, wall_thickness_mm)
        VALUES ($1, $2, $3, $4)
        ON CONFLICT (nps, schedule) DO NOTHING
      `, [nps, schedule, wallInch, wallMm]);
    }
  }

  public async down(queryRunner: QueryRunner): Promise<void> {
    await queryRunner.query(`DROP TABLE IF EXISTS pipe_schedule_walls`);
    await queryRunner.query(`DROP TABLE IF EXISTS pipe_nps_od`);
    await queryRunner.query(`DROP TABLE IF EXISTS pipe_allowable_stresses`);
    await queryRunner.query(`DROP TABLE IF EXISTS pipe_steel_grades`);
  }
}
